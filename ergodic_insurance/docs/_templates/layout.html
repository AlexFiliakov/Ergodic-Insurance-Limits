{% extends "!layout.html" %}

{% block extrahead %}
{{ super() }}
<!-- Additional MathJax Configuration for better LaTeX rendering -->
<script>
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']],
      processEscapes: true,
      processEnvironments: true
    }
  };
</script>
{% endblock %}

{% block footer %}
{{ super() }}
<!-- Ensure MathJax processes dynamically loaded content -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    if (window.MathJax && window.MathJax.startup) {
      window.MathJax.startup.document.updateDocument();
    }
  });
</script>
{% endblock %}
